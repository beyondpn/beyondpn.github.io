<svg id="SvgjsSvg1006" width="759" height="878" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1038" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1039" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1046" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1047" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1055" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1062" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1063" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1070" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1071" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1078" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1079" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1086" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1087" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(109,25)"><path id="SvgjsPath1009" d="M 35 30L 35 828" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1010" d="M 0 0L 70 0L 70 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1011"><text id="SvgjsText1012" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="50px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1013" dy="16" x="35"><tspan id="SvgjsTspan1014" style="text-decoration:;">Client</tspan></tspan></text></g></g><g id="SvgjsG1015" transform="translate(272,25)"><path id="SvgjsPath1016" d="M 35 30L 35 828" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1017" d="M 0 0L 70 0L 70 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1018"><text id="SvgjsText1019" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="50px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1020" dy="16" x="35"><tspan id="SvgjsTspan1021" style="text-decoration:;">Login</tspan></tspan></text></g></g><g id="SvgjsG1022" transform="translate(411,25)"><path id="SvgjsPath1023" d="M 35 30L 35 828" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1024" d="M 0 0L 70 0L 70 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1025"><text id="SvgjsText1026" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="50px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1027" dy="16" x="35"><tspan id="SvgjsTspan1028" style="text-decoration:;">Queue</tspan></tspan></text></g></g><g id="SvgjsG1029" transform="translate(565,25)"><path id="SvgjsPath1030" d="M 35 30L 35 828" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1031" d="M 0 0L 70 0L 70 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1032"><text id="SvgjsText1033" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="50px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1034" dy="16" x="35"><tspan id="SvgjsTspan1035" style="text-decoration:;">Gate</tspan></tspan></text></g></g><g id="SvgjsG1036"><path id="SvgjsPath1037" d="M146 107L225.5 107L225.5 107L305 107" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1038)"></path><rect id="SvgjsRect1040" width="73" height="16" x="189" y="99" fill="#ffffff"></rect><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="73px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="97.05" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="16" x="225.5"><tspan id="SvgjsTspan1043" style="text-decoration:;">Login (http)</tspan></tspan></text></g><g id="SvgjsG1044"><path id="SvgjsPath1045" d="M300 147L223.5 147L223.5 147L147 147" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1046)"></path><rect id="SvgjsRect1048" width="36" height="16" x="205.5" y="139" fill="#ffffff"></rect><text id="SvgjsText1049" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="36px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="137.05" transform="rotate(0)"><tspan id="SvgjsTspan1050" dy="16" x="223.5"><tspan id="SvgjsTspan1051" style="text-decoration:;">token</tspan></tspan></text></g><g id="SvgjsG1052"><path id="SvgjsPath1053" d="M144 198L372 198L372 198L600 198" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1054)"></path><rect id="SvgjsRect1056" width="59" height="16" x="342.5" y="190" fill="#ffffff"></rect><text id="SvgjsText1057" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="59px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="188.05" transform="rotate(0)"><tspan id="SvgjsTspan1058" dy="16" x="372"><tspan id="SvgjsTspan1059" style="text-decoration:;">token tcp</tspan></tspan></text></g><g id="SvgjsG1060"><path id="SvgjsPath1061" d="M599 232L374 232L374 232L149 232" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1062)"></path><rect id="SvgjsRect1064" width="101" height="16" x="323.5" y="224" fill="#ffffff"></rect><text id="SvgjsText1065" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="101px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="222.05" transform="rotate(0)"><tspan id="SvgjsTspan1066" dy="16" x="374"><tspan id="SvgjsTspan1067" style="text-decoration:;">ticket &amp; queued</tspan></tspan></text></g><g id="SvgjsG1068"><path id="SvgjsPath1069" d="M143 279L293.5 279L293.5 279L444 279" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1070)"></path><rect id="SvgjsRect1072" width="34" height="16" x="276.5" y="271" fill="#ffffff"></rect><text id="SvgjsText1073" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="34px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="269.05" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16" x="293.5"><tspan id="SvgjsTspan1075" style="text-decoration:;">ticket</tspan></tspan></text></g><g id="SvgjsG1076"><path id="SvgjsPath1077" d="M443 311L295.5 311L295.5 311L148 311" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1078)"></path><rect id="SvgjsRect1080" width="73" height="16" x="259" y="303" fill="#ffffff"></rect><text id="SvgjsText1081" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="73px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="301.05" transform="rotate(0)"><tspan id="SvgjsTspan1082" dy="16" x="295.5"><tspan id="SvgjsTspan1083" style="text-decoration:;">当前排第X位</tspan></tspan></text></g><g id="SvgjsG1084"><path id="SvgjsPath1085" d="M144 365L369.5 365L369.5 365L595 365" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1086)"></path><rect id="SvgjsRect1088" width="59" height="16" x="340" y="357" fill="#ffffff"></rect><text id="SvgjsText1089" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="59px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="355.05" transform="rotate(0)"><tspan id="SvgjsTspan1090" dy="16" x="369.5"><tspan id="SvgjsTspan1091" style="text-decoration:;">token tcp</tspan></tspan></text></g><g id="SvgjsG1092" transform="translate(606,185)"><path id="SvgjsPath1093" d="M 0 0L 112 0L 128 16L 128 105L 0 105L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1094" d="M 112 0L 112 16L 128 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1095" d="M 0 0L 112 0L 128 16L 128 105L 0 105L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1096"><text id="SvgjsText1097" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="108px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.55" transform="rotate(0)"><tspan id="SvgjsTspan1098" dy="16" x="64"><tspan id="SvgjsTspan1099" style="text-decoration:;">不管服务器是否已</tspan></tspan><tspan id="SvgjsTspan1100" dy="16" x="64"><tspan id="SvgjsTspan1101" style="text-decoration:;">满，都返回 ticket </tspan></tspan><tspan id="SvgjsTspan1102" dy="16" x="64"><tspan id="SvgjsTspan1103" style="text-decoration:;">和 queued，如果</tspan></tspan><tspan id="SvgjsTspan1104" dy="16" x="64"><tspan id="SvgjsTspan1105" style="text-decoration:;">需要排队，则断开</tspan></tspan><tspan id="SvgjsTspan1106" dy="16" x="64"><tspan id="SvgjsTspan1107" style="text-decoration:;">连接</tspan></tspan></text></g></g><g id="SvgjsG1108" transform="translate(25,339)"><path id="SvgjsPath1109" d="M 0 0L 98 0L 114 16L 114 108L 0 108L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1110" d="M 98 0L 98 16L 114 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1111" d="M 0 0L 98 0L 114 16L 114 108L 0 108L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1112"><text id="SvgjsText1113" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="94px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.05" transform="rotate(0)"><tspan id="SvgjsTspan1114" dy="16" x="57"><tspan id="SvgjsTspan1115" style="text-decoration:;">排队完成和断线</tspan></tspan><tspan id="SvgjsTspan1116" dy="16" x="57"><tspan id="SvgjsTspan1117" style="text-decoration:;">重连时都是发 </tspan></tspan><tspan id="SvgjsTspan1118" dy="16" x="57"><tspan id="SvgjsTspan1119" style="text-decoration:;">token 给服务</tspan></tspan><tspan id="SvgjsTspan1120" dy="16" x="57"><tspan id="SvgjsTspan1121" style="text-decoration:;">器，与原登录逻</tspan></tspan><tspan id="SvgjsTspan1122" dy="16" x="57"><tspan id="SvgjsTspan1123" style="text-decoration:;">辑相同，</tspan></tspan></text></g></g></svg>